/* ============================================
   SkyAbove Animation Engine
   Apple-grade motion design system
   ============================================ */

/* ---- Easing Tokens ---- */
:root {
    --ease-spring: cubic-bezier(0.175, 0.885, 0.32, 1.275);
    --ease-out-expo: cubic-bezier(0.19, 1, 0.22, 1);
    --ease-smooth: cubic-bezier(0.25, 0.1, 0.25, 1);
    --ease-out-quart: cubic-bezier(0.165, 0.84, 0.44, 1);
    --ease-in-out-cubic: cubic-bezier(0.645, 0.045, 0.355, 1);

    /* Duration Tokens */
    --dur-fast: 200ms;
    --dur-normal: 400ms;
    --dur-slow: 800ms;
    --dur-hero: 1200ms;
    --dur-glacial: 2000ms;
}

/* ---- Keyframe Animations ---- */

@keyframes slide-up {
    from {
        opacity: 0;
        transform: translateY(60px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slide-down {
    from {
        opacity: 0;
        transform: translateY(-40px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slide-left {
    from {
        opacity: 0;
        transform: translateX(60px);
    }

    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes slide-right {
    from {
        opacity: 0;
        transform: translateX(-60px);
    }

    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes scale-in {
    from {
        opacity: 0;
        transform: scale(0.85);
    }

    to {
        opacity: 1;
        transform: scale(1);
    }
}

@keyframes blur-in {
    from {
        opacity: 0;
        filter: blur(12px);
        transform: translateY(20px);
    }

    to {
        opacity: 1;
        filter: blur(0);
        transform: translateY(0);
    }
}

@keyframes glow-pulse {

    0%,
    100% {
        box-shadow: 0 0 20px rgba(59, 130, 246, 0.3),
            0 0 60px rgba(59, 130, 246, 0.1);
    }

    50% {
        box-shadow: 0 0 40px rgba(59, 130, 246, 0.5),
            0 0 80px rgba(59, 130, 246, 0.2);
    }
}

@keyframes breathing-glow {

    0%,
    100% {
        opacity: 0.3;
        transform: translate(-50%, -50%) scale(1);
    }

    50% {
        opacity: 0.6;
        transform: translate(-50%, -50%) scale(1.15);
    }
}

@keyframes float {

    0%,
    100% {
        transform: translateY(0);
    }

    50% {
        transform: translateY(-12px);
    }
}

@keyframes shimmer {
    0% {
        background-position: -200% 0;
    }

    100% {
        background-position: 200% 0;
    }
}

@keyframes draw-line {
    from {
        stroke-dashoffset: 1000;
    }

    to {
        stroke-dashoffset: 0;
    }
}

@keyframes counter-tick {
    from {
        opacity: 0;
        transform: translateY(100%);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes rotate-slow {
    from {
        transform: translate(-50%, -50%) rotate(0deg);
    }

    to {
        transform: translate(-50%, -50%) rotate(360deg);
    }
}

@keyframes accordion-open {
    from {
        max-height: 0;
        opacity: 0;
    }

    to {
        max-height: 500px;
        opacity: 1;
    }
}

/* ---- Reveal System ---- */

[data-reveal] {
    opacity: 0;
    will-change: transform, opacity;
}

[data-reveal="up"] {
    transform: translateY(60px);
}

[data-reveal="down"] {
    transform: translateY(-40px);
}

[data-reveal="left"] {
    transform: translateX(-60px);
}

[data-reveal="right"] {
    transform: translateX(60px);
}

[data-reveal="scale"] {
    transform: scale(0.85);
}

[data-reveal="blur"] {
    filter: blur(12px);
    transform: translateY(20px);
}

/* Active state â€” applied by ScrollEngine */
[data-reveal].revealed {
    opacity: 1 !important;
    transform: translateY(0) translateX(0) scale(1) !important;
    filter: blur(0) !important;
    transition:
        opacity var(--dur-slow) var(--ease-out-expo),
        transform var(--dur-slow) var(--ease-out-expo),
        filter var(--dur-slow) var(--ease-out-expo);
}

/* ---- Stagger Utilities ---- */
.stagger-1 {
    transition-delay: 100ms !important;
}

.stagger-2 {
    transition-delay: 200ms !important;
}

.stagger-3 {
    transition-delay: 300ms !important;
}

.stagger-4 {
    transition-delay: 400ms !important;
}

.stagger-5 {
    transition-delay: 500ms !important;
}

.stagger-6 {
    transition-delay: 600ms !important;
}

.stagger-7 {
    transition-delay: 700ms !important;
}

.stagger-8 {
    transition-delay: 800ms !important;
}

/* ---- Hero Load Sequence ---- */
.hero-load {
    opacity: 0;
    transform: translateY(30px);
    animation: slide-up var(--dur-hero) var(--ease-out-expo) forwards;
}

.hero-load-1 {
    animation-delay: 0ms;
}

.hero-load-2 {
    animation-delay: 150ms;
}

.hero-load-3 {
    animation-delay: 300ms;
}

.hero-load-4 {
    animation-delay: 450ms;
}

.hero-load-5 {
    animation-delay: 600ms;
}

/* ---- 3D Card Tilt ---- */
.card-tilt {
    transition: transform 0.4s var(--ease-smooth);
    transform-style: preserve-3d;
}

.card-tilt:hover {
    transform: perspective(1000px) rotateX(2deg) rotateY(-2deg) translateY(-8px);
}

/* ---- Magnetic Button ---- */
.btn-magnetic {
    position: relative;
    transition: transform 0.3s var(--ease-smooth), box-shadow 0.3s var(--ease-smooth);
}

.btn-magnetic:hover {
    transform: translateY(-3px);
}

.btn-magnetic::after {
    content: '';
    position: absolute;
    inset: -4px;
    border-radius: inherit;
    background: inherit;
    opacity: 0;
    filter: blur(20px);
    z-index: -1;
    transition: opacity 0.4s var(--ease-smooth);
}

.btn-magnetic:hover::after {
    opacity: 0.4;
}

/* ---- Parallax Container ---- */
[data-parallax] {
    will-change: transform;
    transition: transform 0.1s linear;
}

/* ---- Counter Animation ---- */
.counter-animated {
    display: inline-block;
    overflow: hidden;
    vertical-align: bottom;
}

.counter-animated .counter-value {
    display: inline-block;
    animation: counter-tick 0.6s var(--ease-spring) forwards;
    opacity: 0;
}

.counter-animated.visible .counter-value {
    opacity: 1;
}

/* ---- FAQ Accordion ---- */
.faq-answer {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.5s var(--ease-out-expo), opacity 0.4s var(--ease-smooth);
    opacity: 0;
}

.faq-item.open .faq-answer {
    max-height: 500px;
    opacity: 1;
}

.faq-chevron {
    transition: transform 0.3s var(--ease-spring);
}

.faq-item.open .faq-chevron {
    transform: rotate(180deg);
}

/* ---- Smooth Marquee Hover Pause ---- */
.marquee-track:hover {
    animation-play-state: paused;
}

/* ---- Tab Content Transition ---- */
.tab-content-enter {
    animation: slide-up 0.5s var(--ease-out-expo) forwards;
}

/* ---- Line Draw for Timeline ---- */
.draw-line-animated {
    stroke-dasharray: 1000;
    stroke-dashoffset: 1000;
}

.draw-line-animated.visible {
    animation: draw-line 2s var(--ease-out-expo) forwards;
}