---
import Layout from "../layouts/Layout.astro";
import CTASection from "../components/CTASection.astro";

interface Props {
    title: string;
    subhead: string;
    problem: string;
    approach: string;
    capabilities: string[];
    integrationStack: string[];
    caseStudy: {
        title: string;
        metrics: string[];
        description: string;
    };
}

const {
    title,
    subhead,
    problem,
    approach,
    capabilities,
    integrationStack,
    caseStudy,
} = Astro.props;
---

<Layout title={`${title} | SkyAbove`}>
    <!-- Hero -->
    <section class="section-padding bg-sky-navy relative pt-32 lg:pt-40">
        <div
            class="absolute inset-0 bg-[radial-gradient(circle_at_top_right,_var(--color-sky-blue)_0%,_transparent_30%)] opacity-10"
        >
        </div>

        <div class="container-custom relative z-10">
            <div class="max-w-4xl">
                <h1 class="text-5xl md:text-7xl font-bold mb-8 leading-tight">
                    {title}
                </h1>
                <p
                    class="text-xl md:text-2xl text-sky-muted mb-10 leading-relaxed max-w-2xl"
                >
                    {subhead}
                </p>
                <div class="flex flex-wrap gap-4">
                    <a href="/contact" class="btn btn-primary"
                        >Book a Strategy Call</a
                    >
                    <a href="#case-study" class="btn btn-outline"
                        >View Case Study</a
                    >
                </div>
            </div>
        </div>
    </section>

    <!-- Problem & Approach -->
    <section class="section-padding bg-sky-dark border-t border-sky-card/30">
        <div class="container-custom grid grid-cols-1 lg:grid-cols-2 gap-16">
            <div
                class="bg-sky-card/10 p-10 rounded-2xl border border-sky-card/50"
            >
                <h2
                    class="text-sky-white font-bold text-2xl mb-6 flex items-center gap-3"
                >
                    <span class="text-red-400">⚠️</span> The Problem
                </h2>
                <p class="text-sky-muted text-lg leading-relaxed">{problem}</p>
            </div>
            <div
                class="bg-sky-blue/5 p-10 rounded-2xl border border-sky-blue/20"
            >
                <h2
                    class="text-white font-bold text-2xl mb-6 flex items-center gap-3"
                >
                    <span class="text-sky-blue">⚡</span> Our Approach
                </h2>
                <p class="text-sky-white text-lg leading-relaxed">{approach}</p>
            </div>
        </div>
    </section>

    <!-- Capabilities Grid -->
    <section class="section-padding bg-sky-navy relative">
        <div class="container-custom">
            <h2 class="text-3xl font-bold mb-12 text-center">
                Core Capabilities
            </h2>
            <div class="flex flex-wrap justify-center gap-4">
                {
                    capabilities.map((cap) => (
                        <div class="px-6 py-3 rounded-full border border-sky-card bg-sky-card/20 text-sky-white font-medium hover:border-sky-blue/50 transition-colors">
                            {cap}
                        </div>
                    ))
                }
            </div>
        </div>
    </section>

    <!-- Case Study Feature -->
    <section
        id="case-study"
        class="section-padding bg-sky-dark border-y border-sky-card/30"
    >
        <div class="container-custom max-w-5xl">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold mb-4">Results That Matter</h2>
                <p class="text-sky-muted">
                    Real outcomes for clients in this sector.
                </p>
            </div>

            <div
                class="bg-sky-card/20 rounded-3xl border border-sky-card overflow-hidden"
            >
                <div class="grid grid-cols-1 md:grid-cols-2">
                    <div
                        class="bg-sky-card/30 p-12 flex flex-col justify-center"
                    >
                        <h3 class="text-2xl font-bold text-white mb-6">
                            {caseStudy.title}
                        </h3>
                        <p class="text-sky-muted mb-8 leading-relaxed">
                            {caseStudy.description}
                        </p>
                        <a
                            href="/results"
                            class="text-sky-blue font-bold hover:text-white transition-colors"
                            >Read Full Story →</a
                        >
                    </div>
                    <div
                        class="bg-sky-navy p-12 flex flex-col justify-center space-y-8"
                    >
                        {
                            caseStudy.metrics.map((metric) => (
                                <div class="border-l-4 border-sky-blue pl-6">
                                    <div class="text-4xl font-bold text-white mb-1">
                                        {metric.split(":")[0]}
                                    </div>
                                    <div class="text-sky-muted text-sm uppercase tracking-wider">
                                        {metric.split(":")[1]}
                                    </div>
                                </div>
                            ))
                        }
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Stack Integration -->
    <section class="section-padding bg-sky-navy">
        <div class="container-custom text-center">
            <h2
                class="text-xl text-sky-muted font-mono mb-12 uppercase tracking-widest"
            >
                We Plug Into Your Stack
            </h2>
            <div
                class="flex flex-wrap justify-center gap-8 md:gap-16 opacity-70"
            >
                {
                    integrationStack.map((tool) => (
                        <span class="text-xl md:text-2xl font-bold text-sky-white/50">
                            {tool}
                        </span>
                    ))
                }
            </div>
        </div>
    </section>

    <CTASection />
</Layout>
