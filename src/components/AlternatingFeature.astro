---
interface Props {
    title: string;
    description: string;
    pills: string[];
    visualSide?: "left" | "right";
    visualType?: "dashboard" | "grid" | "abstract"; // To conditionally style the placeholder
}

const {
    title,
    description,
    pills,
    visualSide = "right",
    visualType = "dashboard",
} = Astro.props;
---

<section class="section-padding relative overflow-hidden group">
    <div
        class="container-custom grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-24 items-center"
    >
        <!-- Text Content -->
        <div
            class={`space-y-8 ${visualSide === "left" ? "lg:order-2" : "lg:order-1"} reveal-on-scroll`}
        >
            <h2 class="text-3xl md:text-5xl font-bold leading-tight">
                {title}
            </h2>
            <p class="text-xl text-sky-muted leading-relaxed">
                {description}
            </p>

            <!-- Service Pills -->
            <div class="flex flex-wrap gap-3 pt-2">
                {
                    pills.map((pill) => (
                        <a
                            href="/services"
                            class="px-4 py-1.5 rounded-full border border-sky-card/50 bg-sky-card/20 text-sm font-medium text-sky-blue hover:bg-sky-blue/10 hover:border-sky-blue transition-colors"
                        >
                            {pill}
                        </a>
                    ))
                }
            </div>

            <!-- Client Logos (Placeholder Row) -->
            <div class="pt-6 border-t border-sky-card/30">
                <p
                    class="text-xs text-sky-muted/50 uppercase tracking-widest mb-3"
                >
                    Trusted By
                </p>
                <div
                    class="flex gap-6 opacity-50 grayscale hover:grayscale-0 transition-all"
                >
                    <div class="h-6 w-20 bg-white/10 rounded"></div>
                    <div class="h-6 w-20 bg-white/10 rounded"></div>
                    <div class="h-6 w-20 bg-white/10 rounded"></div>
                </div>
            </div>
        </div>

        <!-- Visual Panel -->
        <div
            class={`relative ${visualSide === "left" ? "lg:order-1" : "lg:order-2"} reveal-on-scroll delay-100`}
        >
            <div
                class="aspect-[4/3] bg-sky-card/30 rounded-2xl border border-sky-card overflow-hidden relative group-hover:border-sky-blue/30 transition-colors shadow-2xl"
            >
                {/* Background Gradient */}
                <div
                    class="absolute inset-0 bg-gradient-to-br from-sky-blue/5 to-transparent"
                >
                </div>

                {/* Inner Visual Content (Abstract representations) */}
                <div
                    class="absolute inset-4 bg-sky-navy/50 rounded-xl border border-sky-card/50 flex items-center justify-center p-8"
                >
                    {
                        visualType === "dashboard" && (
                            // Simple Dashboard Mockup
                            <div class="w-full h-full space-y-3 opacity-80">
                                <div class="h-8 w-1/3 bg-sky-blue/20 rounded mb-6" />
                                <div class="flex gap-4 h-32">
                                    <div class="flex-1 bg-sky-card/50 rounded border border-sky-card/30" />
                                    <div class="flex-1 bg-sky-card/50 rounded border border-sky-card/30" />
                                </div>
                                <div class="h-4 w-full bg-sky-card/30 rounded mt-4" />
                                <div class="h-4 w-5/6 bg-sky-card/30 rounded" />
                                <div class="h-4 w-4/6 bg-sky-card/30 rounded" />
                            </div>
                        )
                    }

                    {
                        visualType === "grid" && (
                            // Grid/Gallery Mockup
                            <div class="w-full h-full grid grid-cols-2 gap-3 opacity-80">
                                <div class="bg-sky-card/50 rounded border border-sky-card/30" />
                                <div class="bg-sky-card/50 rounded border border-sky-card/30" />
                                <div class="bg-sky-card/50 rounded border border-sky-card/30" />
                                <div class="bg-sky-card/50 rounded border border-sky-card/30" />
                            </div>
                        )
                    }

                    {
                        visualType === "abstract" && (
                            // Abstract Nodes
                            <div class="relative w-full h-full flex items-center justify-center">
                                <div class="absolute w-32 h-32 bg-sky-blue/10 rounded-full blur-xl animate-pulse" />
                                <div class="relative w-24 h-24 border border-sky-blue/40 rounded-full flex items-center justify-center">
                                    <div class="w-12 h-12 bg-sky-blue/20 rounded-full" />
                                </div>
                            </div>
                        )
                    }
                </div>

                {/* Case Study Overlay (Corner) */}
                <div class="absolute bottom-6 right-6 z-20">
                    <a
                        href="/results"
                        class="flex items-center space-x-2 bg-sky-navy/90 backdrop-blur border border-sky-card px-4 py-2 rounded-lg text-xs font-bold text-white hover:text-sky-blue hover:border-sky-blue transition-colors shadow-lg"
                    >
                        <span>View Case Study</span>
                        <span>â†’</span>
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>
